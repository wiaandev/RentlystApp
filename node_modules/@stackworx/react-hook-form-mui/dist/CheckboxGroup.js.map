{"version":3,"file":"CheckboxGroup.js","sources":["../src/CheckboxGroup.tsx"],"sourcesContent":["import {\n  useController,\n  FieldValues,\n  UseControllerProps,\n  FieldPath,\n} from 'react-hook-form';\nimport MuiCheckbox, {\n  CheckboxProps as MuiCheckboxProps,\n} from '@mui/material/Checkbox';\n\nexport type CheckboxGroupProps<\n  TName extends FieldPath<TFieldValues>,\n  TFieldValues extends FieldValues = FieldValues,\n> = UseControllerProps<TFieldValues, TName> &\n  Omit<MuiCheckboxProps, 'checked' | 'name' | 'defaultChecked' | 'form'>;\n\nexport function CheckboxGroup<\n  TName extends FieldPath<TFieldValues>,\n  TFieldValues extends FieldValues = FieldValues,\n>({\n  control,\n  name,\n  rules,\n  value,\n  ...props\n}: CheckboxGroupProps<TName, TFieldValues>) {\n  const {\n    field,\n    fieldState: { error },\n  } = useController({\n    name,\n    control,\n    rules,\n  });\n\n  const { onChange, onBlur, ref } = field;\n\n  return (\n    <MuiCheckbox\n      sx={{\n        ...(error && {\n          color: 'error.main',\n          '&.Mui-checked': {\n            color: 'error.main',\n          },\n        }),\n      }}\n      {...props}\n      checked={field.value.includes(value)}\n      inputRef={ref}\n      onChange={(_event, checked) => {\n        if (checked) {\n          onChange([...field.value, value]);\n        } else {\n          onChange(\n            // @ts-expect-error must be array\n            field.value.filter((v) => v !== value)\n          );\n        }\n      }}\n      onBlur={onBlur}\n      value={value}\n      name={name}\n    />\n  );\n}\n\nCheckboxGroup.displayName = 'MuiReactHookFormCheckboxGroup';\n"],"names":[],"mappings":";;;AAgBO,SAAS,cAGd;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA4C;AACpC,QAAA;AAAA,IACJ;AAAA,IACA,YAAY,EAAE,MAAM;AAAA,MAClB,cAAc;AAAA,IAChB;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAED,QAAM,EAAE,UAAU,QAAQ,IAAA,IAAQ;AAGhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI;AAAA,QACF,GAAI,SAAS;AAAA,UACX,OAAO;AAAA,UACP,iBAAiB;AAAA,YACf,OAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AAAA,MACC,GAAG;AAAA,MACJ,SAAS,MAAM,MAAM,SAAS,KAAK;AAAA,MACnC,UAAU;AAAA,MACV,UAAU,CAAC,QAAQ,YAAY;AAC7B,YAAI,SAAS;AACX,mBAAS,CAAC,GAAG,MAAM,OAAO,KAAK,CAAC;AAAA,QAAA,OAC3B;AACL;AAAA;AAAA,YAEE,MAAM,MAAM,OAAO,CAAC,MAAM,MAAM,KAAK;AAAA,UAAA;AAAA,QAEzC;AAAA,MACF;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,cAAc,cAAc;"}