{"version":3,"file":"RadioGroup.js","sources":["../src/RadioGroup.tsx"],"sourcesContent":["import {\n  useController,\n  FieldValues,\n  FieldPath,\n  UseControllerProps,\n  useFormState,\n  Control,\n  FieldError,\n} from 'react-hook-form';\nimport MuiRadioGroup, {\n  RadioGroupProps as MuiRadioGroupProps,\n  useRadioGroup,\n} from '@mui/material/RadioGroup';\nimport { default as MuiRadio, type RadioProps } from '@mui/material/Radio';\n\nexport type RadioGroupProps<\n  TName extends FieldPath<TFieldValues>,\n  TFieldValues extends FieldValues = FieldValues,\n> = UseControllerProps<TFieldValues, TName> &\n  Omit<\n    MuiRadioGroupProps,\n    'checked' | 'name' | 'value' | 'defaultChecked' | 'form'\n  >;\n\nexport function RadioGroup<\n  TName extends FieldPath<TFieldValues>,\n  TFieldValues extends FieldValues,\n>({ control, name, rules, ...props }: RadioGroupProps<TName, TFieldValues>) {\n  const {\n    field: { onChange, onBlur, value },\n  } = useController({\n    name,\n    control,\n    rules,\n  });\n\n  return (\n    <MuiRadioGroup\n      {...props}\n      onChange={onChange}\n      onBlur={onBlur}\n      value={value}\n      name={name}\n    />\n  );\n}\n\nRadioGroup.displayName = 'MuiReactHookFormRadioGroup';\n\ninterface MyRadioProps<T extends FieldValues> extends RadioProps {\n  control: Control<T>;\n}\n\nexport function Radio<T extends FieldValues>({\n  control,\n  ...props\n}: MyRadioProps<T>) {\n  const radioGroup = useRadioGroup();\n  const { errors } = useFormState({ control });\n\n  const fieldName = radioGroup?.name || props.name || '';\n  const fieldError = (errors as Record<string, FieldError>)[fieldName];\n\n  const showError = !!fieldError;\n\n  return (\n    <MuiRadio\n      sx={{\n        ...(showError && {\n          '& .MuiSvgIcon-root': {\n            color: 'error.main',\n          },\n        }),\n      }}\n      {...props}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAwBO,SAAS,WAGd,EAAE,SAAS,MAAM,OAAO,GAAG,SAA+C;AACpE,QAAA;AAAA,IACJ,OAAO,EAAE,UAAU,QAAQ,MAAM;AAAA,MAC/B,cAAc;AAAA,IAChB;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAGC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,WAAW,cAAc;AAMlB,SAAS,MAA6B;AAAA,EAC3C;AAAA,EACA,GAAG;AACL,GAAoB;AAClB,QAAM,aAAa;AACnB,QAAM,EAAE,OAAO,IAAI,aAAa,EAAE,QAAS,CAAA;AAE3C,QAAM,aAAY,yCAAY,SAAQ,MAAM,QAAQ;AAC9C,QAAA,aAAc,OAAsC,SAAS;AAE7D,QAAA,YAAY,CAAC,CAAC;AAGlB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI;AAAA,QACF,GAAI,aAAa;AAAA,UACf,sBAAsB;AAAA,YACpB,OAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AAAA,MACC,GAAG;AAAA,IAAA;AAAA,EAAA;AAGV;"}